(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4047],{8458:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/challenge-editor",function(){return t(4358)}])},4358:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return w},default:function(){return T}});var i=t(5893),s=t(9038),a=t(1767),l=t(9144),r=t(9630),o=t(9076),c=t(5084),d=t(5214),u=t(1284),h=t(562),x=t(5309),v=t(4548),p=t(7297),j=t(7074);function f(){let e=(0,p.Z)(["\n    display: flex;\n    gap: ",";\n    justify-content: space-between;\n\n    > div {\n        width: 100%;\n\n        display: flex;\n        flex-direction: column;\n        gap: ",";\n\n        margin: ",";\n    }\n"]);return f=function(){return e},e}let g=(0,j.ZP)("div")(f(),e=>{let{theme:n}=e;return n.spacing(2)},e=>{let{theme:n}=e;return n.spacing()},e=>{let{theme:n}=e;return n.spacing(4,0)});var m=t(9328),C=t(7294);let Z="test.describe('', () => {\n    test.it('', () => {\n        const response = __challengeFunction();\n        test.expect(response).toBe(true);\n    });\n});";var y=t(9713),S=t(9516),b=t(6941),w=!0;function T(e){let{selectedChallengeId:n,canSave:t,isSuccessfullyTested:p,title:j,setTitle:f,description:w,setDescription:T,sourceCode:_,setSourceCode:k,setCodePreview:N,setVisibleCodePreview:P,testsCode:E,setTestsCode:O,runTests:D,error:J,testsResults:R,challengesList:L,setChallengesList:W,selectChallenge:F,saveChallenge:X,removeChallenge:A,duplicateChallenge:B,loadChallengesList:G,challengesListJSON:U,setChallengesListJSON:V,resetAllFields:Y}=function(){let[e,n]=(0,C.useState)(null),[t,i]=(0,C.useState)(""),[s,a]=(0,C.useState)(""),[l,r]=(0,C.useState)("\n\n\n"),[o,c]=(0,C.useState)(""),[d,u]=(0,C.useState)(""),[h,x]=(0,C.useState)(Z),[v,p]=(0,C.useState)(),[j,f]=(0,C.useState)(),[g,y]=(0,C.useState)([]),[S,b]=(0,C.useState)(""),w=v&&v.passedTests>0&&v.passedTests===v.totalTests;function T(e){n(e.id),i(e.title),a(e.description),r(e.code),x(e.testsCode),f(""),p(void 0)}function _(){n(null),i(""),a(""),r("\n\n\n"),x(Z),p(void 0),f("")}return{selectedChallengeId:e,canSave:t&&s&&w,isSuccessfullyTested:w,title:t,setTitle:i,description:s,setDescription:a,sourceCode:l,setSourceCode:r,setCodePreview:c,setVisibleCodePreview:u,testsCode:h,setTestsCode:x,runTests:function(){f(""),p(void 0);try{m.O.run(o,h).then(e=>{p(e)}).catch(e=>{f("".concat(e.name,": ").concat(e.message))})}catch(e){e instanceof Error&&(console.log(e.name),f("".concat(e.name,": ").concat(e.message)))}},error:j,testsResults:v,challengesList:g,setChallengesList:y,selectChallenge:T,saveChallenge:function(){e?l&&h&&(null==v?void 0:v.passedTests)===(null==v?void 0:v.totalTests)&&(y(n=>n.map(n=>n.id===e?{...n,title:t,description:s,code:l,testsCode:h,answer:d}:n)),_()):t&&s&&l&&h&&(null==v?void 0:v.passedTests)===(null==v?void 0:v.totalTests)&&(y(e=>[...e,{id:"".concat(Date.now()),isDone:!1,isCorrect:!1,title:t,description:s,code:l,testsCode:h,answer:d}]),_())},removeChallenge:function(e){confirm("Do you want to delete this challenge?")&&y(n=>n.filter(n=>n.id!==e))},duplicateChallenge:function(e){T(e),n(null)},loadChallengesList:function(){try{let e=JSON.parse(S);y(e)}catch(n){n instanceof Error&&(console.log(n.name),f("".concat(n.name,": ").concat(n.message)))}},challengesListJSON:S,setChallengesListJSON:b,resetAllFields:_}}(),q=y.i.use.editorTheme();return(0,i.jsxs)("div",{children:[(0,i.jsxs)(l.Z,{gap:2,sx:{mt:1},children:[(0,i.jsx)(r.Z,{variant:"h1",color:"textPrimary",align:"center",children:"Challenge Editor"}),(0,i.jsx)(o.Z,{value:j,onChange:e=>f(e.target.value),label:"Title",fullWidth:!0}),(0,i.jsx)(o.Z,{value:w,onChange:e=>T(e.target.value),label:"Description",fullWidth:!0,multiline:!0,rows:8})]}),(0,i.jsxs)(g,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(r.Z,{variant:"h2",color:"textPrimary",children:"Source Code"}),(0,i.jsx)(s.Z,{value:_,onChange:e=>k(e),theme:q}),(0,i.jsxs)("div",{children:[(0,i.jsx)(c.Z,{onClick:()=>navigator.clipboard.writeText("[---editable---\n\n---editable---]"),children:"[---editable---]"}),(0,i.jsx)(c.Z,{onClick:()=>navigator.clipboard.writeText("[---hidden---\n\n---hidden---]"),children:"[---hidden---]"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(r.Z,{variant:"h2",color:"textPrimary",children:"Code Preview"}),(0,i.jsx)(a.Z,{value:_,onChange:e=>N(e),onVisibleCodeChange:e=>P(e),theme:q})]})]}),(0,i.jsx)(r.Z,{variant:"h2",color:"textPrimary",children:"Test"}),(0,i.jsx)(s.Z,{value:E,onChange:e=>O(e),theme:q}),(0,i.jsx)(c.Z,{sx:{my:4},variant:"contained",onClick:D,disabled:!_||!E,children:"Run Tests"}),J&&(0,i.jsx)(r.Z,{variant:"body1",color:"error.main",children:J}),p&&(0,i.jsx)(r.Z,{variant:"body1",color:"textSecondary",sx:{mb:3},children:"Congratulations! You passed all tests!"}),R?(0,i.jsx)(S.Z,{...R}):(0,i.jsx)(r.Z,{variant:"body1",color:"error.main",children:"Run tests to see results"}),(0,i.jsxs)(l.Z,{gap:2,sx:{mt:2},direction:"row",justifyContent:"end",children:[(0,i.jsx)(c.Z,{variant:"outlined",onClick:Y,children:n?"Cancel":"Reset"}),(0,i.jsxs)(c.Z,{variant:"contained",onClick:X,disabled:!t,children:[n?"Update":"Save"," Challenge"]})]}),(0,i.jsx)(d.Z,{children:(0,i.jsx)(b.ReactSortable,{list:L,setList:W,children:L.map(e=>(0,i.jsx)(u.ZP,{sx:{pr:12},secondaryAction:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{onClick:()=>B(e),children:(0,i.jsx)("i",{className:"fas fa-copy"})}),(0,i.jsx)(h.Z,{onClick:()=>A(e.id),children:(0,i.jsx)("i",{className:"fas fa-trash"})})]}),children:(0,i.jsx)(x.Z,{onClick:()=>F(e),children:(0,i.jsx)(v.Z,{primary:e.title,secondary:e.description,primaryTypographyProps:{color:"textPrimary"}})})},e.id))})}),(0,i.jsx)(c.Z,{onClick:()=>V(JSON.stringify(L,null,4)),children:"Save list to JSON"}),(0,i.jsx)(c.Z,{onClick:G,children:"Load list from JSON"}),(0,i.jsx)(o.Z,{fullWidth:!0,multiline:!0,rows:8,value:U,onChange:e=>V(e.target.value)})]})}}},function(e){e.O(0,[5482,9604,1691,2031,9774,2888,179],function(){return e(e.s=8458)}),_N_E=e.O()}]);